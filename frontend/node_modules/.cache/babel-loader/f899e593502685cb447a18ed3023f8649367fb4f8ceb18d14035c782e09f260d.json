{"ast":null,"code":"var _jsxFileName = \"D:\\\\study\\\\React\\\\Spotify-clone\\\\frontend\\\\src\\\\pages\\\\AuthCallback\\\\index.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport classNames from 'classnames/bind';\nimport style from './AuthCallback.module.scss';\nimport { useUser } from '@clerk/clerk-react';\nimport axiosInstance from '../../lib/axios';\nimport { useNavigate } from 'react-router-dom';\nimport { Loader } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst cx = classNames.bind(style);\nexport default function AuthCallback() {\n  _s();\n  const {\n    isLoaded,\n    user\n  } = useUser();\n  const navigate = useNavigate();\n  useEffect(() => {\n    const syncUser = async () => {\n      try {\n        if (!isLoaded || !user) {\n          return;\n        }\n        await axiosInstance.post('/auth/callback', {\n          id: user.id,\n          firstName: user.firstName,\n          lastName: user.lastName,\n          imageUrl: user.imageUrl\n        });\n      } catch (error) {\n        console.log('Error in auth callback', error);\n      } finally {\n        navigate('/');\n      }\n    };\n    syncUser();\n  }, [isLoaded, user, navigate]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: cx('loader-wrapper'),\n    children: [/*#__PURE__*/_jsxDEV(Loader, {\n      className: cx('loader'),\n      size: 48\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: cx('loader-title'),\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n_s(AuthCallback, \"sPQ4r25sM/DqHERQpHzhGZGBKZM=\", false, function () {\n  return [useUser, useNavigate];\n});\n_c = AuthCallback;\nvar _c;\n$RefreshReg$(_c, \"AuthCallback\");","map":{"version":3,"names":["React","useEffect","classNames","style","useUser","axiosInstance","useNavigate","Loader","jsxDEV","_jsxDEV","cx","bind","AuthCallback","_s","isLoaded","user","navigate","syncUser","post","id","firstName","lastName","imageUrl","error","console","log","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/study/React/Spotify-clone/frontend/src/pages/AuthCallback/index.js"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport classNames from 'classnames/bind';\r\nimport style from './AuthCallback.module.scss';\r\nimport { useUser } from '@clerk/clerk-react';\r\nimport axiosInstance from '../../lib/axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Loader } from 'lucide-react';\r\n\r\nconst cx = classNames.bind(style);\r\n\r\nexport default function AuthCallback() {\r\n    const { isLoaded, user } = useUser();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const syncUser = async () => {\r\n            try {\r\n                if (!isLoaded || !user) {\r\n                    return;\r\n                }\r\n                await axiosInstance.post('/auth/callback', {\r\n                    id: user.id,\r\n                    firstName: user.firstName,\r\n                    lastName: user.lastName,\r\n                    imageUrl: user.imageUrl,\r\n                });\r\n            } catch (error) {\r\n                console.log('Error in auth callback', error);\r\n            } finally {\r\n                navigate('/');\r\n            }\r\n        };\r\n        syncUser();\r\n    }, [isLoaded, user, navigate]);\r\n\r\n    return (\r\n        <div className={cx('loader-wrapper')}>\r\n            <Loader className={cx('loader')} size={48} />\r\n            <p className={cx('loader-title')}>Loading...</p>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,UAAU,MAAM,iBAAiB;AACxC,OAAOC,KAAK,MAAM,4BAA4B;AAC9C,SAASC,OAAO,QAAQ,oBAAoB;AAC5C,OAAOC,aAAa,MAAM,iBAAiB;AAC3C,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,MAAM,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,EAAE,GAAGR,UAAU,CAACS,IAAI,CAACR,KAAK,CAAC;AAEjC,eAAe,SAASS,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACnC,MAAM;IAAEC,QAAQ;IAAEC;EAAK,CAAC,GAAGX,OAAO,CAAC,CAAC;EACpC,MAAMY,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAE9BL,SAAS,CAAC,MAAM;IACZ,MAAMgB,QAAQ,GAAG,MAAAA,CAAA,KAAY;MACzB,IAAI;QACA,IAAI,CAACH,QAAQ,IAAI,CAACC,IAAI,EAAE;UACpB;QACJ;QACA,MAAMV,aAAa,CAACa,IAAI,CAAC,gBAAgB,EAAE;UACvCC,EAAE,EAAEJ,IAAI,CAACI,EAAE;UACXC,SAAS,EAAEL,IAAI,CAACK,SAAS;UACzBC,QAAQ,EAAEN,IAAI,CAACM,QAAQ;UACvBC,QAAQ,EAAEP,IAAI,CAACO;QACnB,CAAC,CAAC;MACN,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,KAAK,CAAC;MAChD,CAAC,SAAS;QACNP,QAAQ,CAAC,GAAG,CAAC;MACjB;IACJ,CAAC;IACDC,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,CAACH,QAAQ,EAAEC,IAAI,EAAEC,QAAQ,CAAC,CAAC;EAE9B,oBACIP,OAAA;IAAKiB,SAAS,EAAEhB,EAAE,CAAC,gBAAgB,CAAE;IAAAiB,QAAA,gBACjClB,OAAA,CAACF,MAAM;MAACmB,SAAS,EAAEhB,EAAE,CAAC,QAAQ,CAAE;MAACkB,IAAI,EAAE;IAAG;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eAC7CvB,OAAA;MAAGiB,SAAS,EAAEhB,EAAE,CAAC,cAAc,CAAE;MAAAiB,QAAA,EAAC;IAAU;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC/C,CAAC;AAEd;AAACnB,EAAA,CA/BuBD,YAAY;EAAA,QACLR,OAAO,EACjBE,WAAW;AAAA;AAAA2B,EAAA,GAFRrB,YAAY;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}